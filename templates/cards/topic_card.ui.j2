{#- Topic Card Template for UI (HTML) -#}
<div class="card topic-card">
  <div class="card-header">
    <span class="badge badge-info">ğŸ”µ è¯é¢˜ä¿¡å·</span>
  </div>

  {% if card_data.token_info %}
  <div class="token-info">
    <strong>å€™é€‰ä»£å¸:</strong> {{ card_data.token_info.symbol | default('UNKNOWN') }} ({{ card_data.token_info.chain | default('eth') | upper }})
    {% if card_data.token_info.ca_norm %}
    <br><strong>åˆçº¦åœ°å€:</strong> <code>{{ card_data.token_info.ca_norm[:6] }}...{{ card_data.token_info.ca_norm[-4:] }}</code>
    {% endif %}
  </div>
  {% endif %}

  <div class="topic-info">
    <h4>ğŸ“Œ è¯é¢˜ä¿¡æ¯</h4>
    <ul>
      {% if card_data.topic_id is defined and card_data.topic_id %}
      <li><strong>è¯é¢˜ID:</strong> {{ card_data.topic_id }}</li>
      {% endif %}
      {% if card_data.topic_entities is defined and card_data.topic_entities and card_data.topic_entities|length > 0 %}
      <li><strong>ç›¸å…³å®ä½“:</strong> {{ card_data.topic_entities[:5] | join(', ') }}</li>
      {% endif %}
      {% if card_data.topic_keywords is defined and card_data.topic_keywords and card_data.topic_keywords|length > 0 %}
      <li><strong>å…³é”®è¯:</strong> {{ card_data.topic_keywords[:5] | join(', ') }}</li>
      {% endif %}
      <li><strong>æåŠæ¬¡æ•°:</strong> {{ card_data.topic_mention_count | default('N/A') }}</li>
      <li><strong>ç½®ä¿¡åº¦:</strong> {{ "%.1f%%" | format(card_data.topic_confidence * 100) if card_data.topic_confidence is defined and card_data.topic_confidence is not none else "å¾…è®¡ç®—" }}</li>
      {% if card_data.topic_sources is defined and card_data.topic_sources and card_data.topic_sources|length > 0 %}
      <li><strong>æ¥æº:</strong> {{ card_data.topic_sources[:5] | join(', ') }}</li>
      {% endif %}
      {% if card_data.topic_evidence_links is defined and card_data.topic_evidence_links and card_data.topic_evidence_links|length > 0 %}
      <li><strong>è¯æ®:</strong>
        {% for link in card_data.topic_evidence_links[:5] %}
        <a href="{{ link }}">è¯æ®{{ loop.index }}</a>{% if not loop.last %}, {% endif %}
        {% endfor %}
      </li>
      {% endif %}
    </ul>
  </div>

  {% if card_data.states is defined and card_data.states.degrade %}
  <div class="alert alert-warning">
    âš ï¸ <strong>æœåŠ¡é™çº§æç¤º:</strong> éƒ¨åˆ†æ•°æ®æœåŠ¡æš‚æ—¶ä¸å¯ç”¨ï¼Œæ˜¾ç¤ºç»“æœåŸºäºç¼“å­˜æˆ–é™çº§ç­–ç•¥
  </div>
  {% endif %}

  <div class="card-footer">
    <p>ğŸ” <strong>éªŒè¯è·¯å¾„:</strong> {{ card_data.verify_path | default('/') }}</p>
    <p>ğŸ“… <strong>æ•°æ®æ—¶é—´:</strong> {{ card_data.data_as_of | default('N/A') }}</p>
    <p class="legal-note"><em>{{ card_data.legal_note | default("æœ¬ä¿¡æ¯ä»…ä¸ºé£é™©çº¿ç´¢ä¸æŠ€æœ¯åˆ¤æ–­ï¼Œä¸æ„æˆæŠ•èµ„å»ºè®®ã€‚") }}</em></p>
  </div>
</div>