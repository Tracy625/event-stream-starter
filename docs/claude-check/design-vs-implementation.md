# MVP28 è®¾è®¡ vs å®é™…ä»£ç ç¼ºå¤±å¯¹ç…§è¡¨

ç”Ÿæˆæ—¶é—´: 2025-09-22
åŸºå‡†: mvp28-done.mdï¼ˆè®¾è®¡æ–‡æ¡£ï¼‰ vs complete-risk-assessment.mdï¼ˆå®é™…æ£€æŸ¥ï¼‰
è¯´æ˜: ä»…åˆ—å‡ºæœ‰ç¼ºå¤±æˆ–é—®é¢˜çš„ä»»åŠ¡ï¼Œå®Œå…¨å®ç°çš„ä»»åŠ¡ä¸åˆ—å…¥

## ğŸ”´ å®Œå…¨ç¼ºå¤±çš„åŠŸèƒ½ï¼ˆè®¾è®¡äº†ä½†å®Œå…¨æ²¡å†™ï¼‰

### Day8.1: KOL Profile å˜æ›´ä¸å¤´åƒè¯­ä¹‰æ ‡ç­¾

**è®¾è®¡è¦æ±‚**ï¼š

- è½®è¯¢ KOL èµ„æ–™å˜æ›´å¹¶è½åº“ã€ä¸‹è½½å¤´åƒ
- CLIP/SigLIP + OCR + pHash å»é‡ï¼Œäº§å‡ºæ ‡ç­¾ä¸å®ä½“
- æ–°è¡¨: profile_eventsï¼ˆèµ„æ–™å˜æ›´åŸå§‹äº‹ä»¶ï¼‰
- æ–°è¡¨: profile_tagsï¼ˆå¤´åƒæ¨ç†ç»“æœï¼‰
- æ–‡ä»¶: workers/image_tagging.py, router/topic_router.py
- èµ„æº: resources/image_tags.yml, resources/meme_map.yml

**å®é™…æƒ…å†µ**ï¼š

- âŒ profile_events è¡¨ä¸å­˜åœ¨
- âŒ profile_tags è¡¨ä¸å­˜åœ¨
- âŒ image_tagging.py æ–‡ä»¶ä¸å­˜åœ¨
- âŒ topic_router.py æ–‡ä»¶ä¸å­˜åœ¨
- âŒ CLIP/OCR åŠŸèƒ½å®Œå…¨æœªå®ç°

---

### Day9.1: Meme è¯é¢˜å¡æœ€å°é“¾è·¯ï¼ˆéƒ¨åˆ†ç¼ºå¤±ï¼‰

**è®¾è®¡è¦æ±‚**ï¼š

- signals è¡¨å¢åŠ  type å­—æ®µ: ENUM('topic','primary','secondary','market_risk')
- is_memeable_topic è·¯ç”±å®ç°
- å»ºç«‹ topic_idï¼ˆç®€å•å“ˆå¸Œ/ç›¸ä¼¼åº¦èšç±»ï¼‰
- templates/topic_card.j2 æ¨¡æ¿æ–‡ä»¶
- æ”¯æŒ 24h èšåˆï¼ŒåŒ topic_id ä¸€å°æ—¶å†…åªæ¨ä¸€æ¬¡

**å®é™…æƒ…å†µ**ï¼š

- âŒ signals è¡¨ç¼ºå°‘ type å­—æ®µï¼ˆåªæœ‰ market_type å­—æ®µï¼‰
- âŒ topic_card.j2 æ¨¡æ¿ä¸å­˜åœ¨
- âœ… topic èšåˆé€»è¾‘éƒ¨åˆ†å®ç°ï¼ˆapi/services/topic_analyzer.pyï¼‰
- âš ï¸ is_memeable_topic å‡½æ•°å­˜åœ¨ä½†è·¯ç”±é›†æˆä¸å®Œæ•´

---

### Day18: è§„åˆ™å¼•æ“ + Market Risk å¡ç‰‡

**è®¾è®¡è¦æ±‚**ï¼š

- è¾“å‡º observe/caution/opportunity/market_risk å››æ¡£
- templates/market_risk_card.j2 æ¨¡æ¿
- å¸‚åœºé£é™©é¢„è­¦åŠŸèƒ½
- çƒ­åŠ è½½è§„åˆ™æ”¯æŒ

**å®é™…æƒ…å†µ**ï¼š

- âŒ market_risk ç±»å‹å®Œå…¨æœªå®ç°
- âŒ è§„åˆ™å¼•æ“åªæœ‰ observe/caution/opportunity ä¸‰æ¡£
- âŒ market_risk_card.j2 æ¨¡æ¿ä¸å­˜åœ¨
- âœ… çƒ­åŠ è½½åŠŸèƒ½å·²å®ç°ï¼ˆapi/config/hotreload.pyï¼‰

---

## ğŸŸ¡ éƒ¨åˆ†ç¼ºå¤±æˆ–å®ç°æœ‰é—®é¢˜

### Day5: äº‹ä»¶èšåˆä¸ event_key

**è®¾è®¡è¦æ±‚**ï¼š

- event_key ç”Ÿæˆï¼šå½’ä¸€åŒ–å®ä½“+ä¸»é¢˜å…³é”®è¯+æ—¶é—´çª—å£
- åˆå¹¶è¯æ®ï¼ševidence[]æ”¾æ¥æºé“¾æ¥ä¸ post_id
- ç»´æŠ¤ start_ts/last_ts ä¸ heat æŒ‡æ ‡

**å®é™…æƒ…å†µ**ï¼š

- âœ… event_key ç”Ÿæˆé€»è¾‘å·²å®ç°
- âš ï¸ event_key å¯èƒ½ç¢°æ’ï¼ˆç”Ÿæˆé€»è¾‘å¤æ‚ï¼‰
- âš ï¸ è¯æ®åˆå¹¶å»é‡æ˜“å‡ºé”™
- âš ï¸ è·¨æºèšåˆå¯èƒ½ä¸¢å¤±æ•°æ®

---

### Day8: X KOL é‡‡é›†ï¼ˆå¤šæºç¼ºå¤±ï¼‰

**è®¾è®¡è¦æ±‚**ï¼š

- ä¸‰ç§åç«¯æ”¯æŒï¼šGraphQLã€API v2ã€Apify
- 5-10 ä¸ª KOLï¼Œ2 åˆ†é’Ÿè½®è¯¢
- è§„èŒƒåŒ–æ–‡æœ¬/URL/åˆçº¦

**å®é™…æƒ…å†µ**ï¼š

- âœ… GraphQL åç«¯å·²å®ç°å¹¶å¯ç”¨
- âŒ API v2 å®Œå…¨æœªå®ç°ï¼ˆä»…å ä½ç¬¦ raise NotImplementedErrorï¼‰
- âŒ Apify å®Œå…¨æœªå®ç°ï¼ˆä»…å ä½ç¬¦ raise NotImplementedErrorï¼‰
- âš ï¸ å•ç‚¹æ•…éšœé£é™©ï¼ˆåªæœ‰ GraphQL èƒ½ç”¨ï¼‰

---

### Day13: è¯æ®å—éªŒè¯ä¸çŠ¶æ€æœº

**è®¾è®¡è¦æ±‚**ï¼š

- å€™é€‰ S0 â†’ å‡ åˆ†é’Ÿåå‡çº§ S2ï¼ˆverified/downgraded/withdrawnï¼‰
- è§„åˆ™ DSLï¼šrules/onchain.yml
- è¶…æ—¶>12 åˆ†é’Ÿæœªå–åˆ°è¯æ®æ—¶ä¿æŒå€™é€‰

**å®é™…æƒ…å†µ**ï¼š

- âœ… çŠ¶æ€æœºåŸºæœ¬å®ç°
- âš ï¸ çŠ¶æ€è½¬æ¢å¯èƒ½æ­»é”
- âš ï¸ å¹¶å‘å¤„ç†åŒä¸€ä¿¡å·å¯èƒ½æ•°æ®ä¸ä¸€è‡´
- âš ï¸ Redis é”æœºåˆ¶å¯èƒ½å¤±æ•ˆ

---

### Day10-12: BigQuery é“¾ä¸Šæ•°æ®

**è®¾è®¡è¦æ±‚**ï¼š

- æˆæœ¬å®ˆæŠ¤ï¼šBQ_MAX_SCANNED_GB é™åˆ¶
- dry_run ä¼°ç®—æ‰«æé‡
- ä¸‰ä¸ª SQL æ¨¡æ¿ï¼ˆactive_addrsã€token_transfersã€top_holdersï¼‰
- ç¼“å­˜ 60-120 ç§’

**å®é™…æƒ…å†µ**ï¼š

- âœ… åŸºç¡€åŠŸèƒ½å·²å®ç°
- âš ï¸ BQ_MAX_SCANNED_GB æœªè®¾ç½®å¯èƒ½å¤©ä»·è´¦å•
- âš ï¸ dry_run å®ˆæŠ¤å¯èƒ½è¢«ç»•è¿‡
- âš ï¸ ç¼“å­˜å¤±æ•ˆå¯èƒ½é‡å¤æŸ¥è¯¢

## ğŸŸ  å·²å®ç°ä½†æœ‰éšæ‚£

### Day6: LLM ç²¾æå™¨

**è®¾è®¡è¦æ±‚**ï¼š

- è§¦å‘æ¡ä»¶ï¼šå€™é€‰æ‰“åˆ† â‰¥ é˜ˆå€¼æˆ– evidence æ•° â‰¥2
- ä½¿ç”¨ mini LLM äº§å‡ºä¸¥æ ¼ JSON
- JSON schema æ ¡éªŒï¼Œä¸åˆæ ¼ä¸¢å¼ƒ

**å®é™…æƒ…å†µ**ï¼š

- âœ… åŠŸèƒ½å·²å®ç°
- âš ï¸ JSON Schema éªŒè¯å¯èƒ½å¤§é‡ä¸¢å¼ƒæ•°æ®
- âš ï¸ LLM è¶…æ—¶å¤„ç†ä¸å½“å¯èƒ½é˜»å¡
- âš ï¸ é™çº§é“¾è·¯å¯èƒ½å¤±æ•ˆ

---

### Day15-16: è·¨æºèšåˆä¸çƒ­åº¦è®¡ç®—

**è®¾è®¡è¦æ±‚**ï¼š

- è·¨æºåˆå¹¶ï¼Œå›ºå®š event_key ä¸å˜æ€§
- è®¡ç®— 10m/30m/recent è®¡æ•°ã€æ–œç‡ã€ç¯æ¯”

**å®é™…æƒ…å†µ**ï¼š

- âœ… åŸºæœ¬åŠŸèƒ½å®ç°
- âš ï¸ EVENT_MERGE_STRICT é…ç½®æ•æ„Ÿ
- âš ï¸ æ–œç‡è®¡ç®—å¯èƒ½ NaNï¼ˆæ•°æ®ä¸è¶³ï¼‰
- âš ï¸ çƒ­åº¦æŒä¹…åŒ–å¯èƒ½å¤±è´¥

---

### Day20-21: Telegram æ¨é€

**è®¾è®¡è¦æ±‚**ï¼š

- æ¨é€åˆ°é¢‘é“ï¼Œç»‘å®šè®¨è®ºç»„
- 1 å°æ—¶å†…åŒ event_key å»é‡
- å¤±è´¥å…¥ outbox é‡è¯•é˜Ÿåˆ—

**å®é™…æƒ…å†µ**ï¼š

- âœ… æ¨é€åŠŸèƒ½å·²å®ç°
- âš ï¸ é€Ÿç‡é™åˆ¶å¯èƒ½å¯¼è‡´æ¶ˆæ¯ä¸¢å¤±
- âš ï¸ Outbox é‡è¯•å¯èƒ½æ­»å¾ªç¯
- âš ï¸ å¹‚ç­‰é”®å¯èƒ½å†²çª

## ç»Ÿè®¡æ±‡æ€»

| é£é™©ç­‰çº§     | ä»»åŠ¡æ•°é‡ | ä¸»è¦é—®é¢˜                                                 |
| ------------ | -------- | -------------------------------------------------------- |
| å®Œå…¨ç¼ºå¤± ğŸ”´  | 3 ä¸ª     | Day8.1 å›¾åƒè¯†åˆ«ã€Day9.1 éƒ¨åˆ†ã€Day18 å¸‚åœºé£é™©             |
| ~~è¯¯åˆ¤æ›´æ­£~~ | 1 ä¸ª     | Day14 ä¸“å®¶è§†å›¾ï¼ˆå·²ç¡®è®¤å®Œæ•´å®ç°ï¼‰                         |
| éƒ¨åˆ†ç¼ºå¤± ğŸŸ¡  | 6 ä¸ª     | Day5 èšåˆã€Day8 é‡‡é›†ã€Day13 çŠ¶æ€æœºã€Day10-12 BigQuery ç­‰ |
| æœ‰éšæ‚£ ğŸŸ     | 6 ä¸ª     | Day6 ç²¾æã€Day15-16 çƒ­åº¦ã€Day20-21 æ¨é€ç­‰                |
| åŸºæœ¬å®Œæˆ âœ…  | 8 ä¸ª     | Day1-4 åŸºç¡€ã€Day7 GoPlusã€Day9 DEXã€Day17 HF ç­‰          |

## ç´§æ€¥ä¿®å¤ä¼˜å…ˆçº§

### P0 - é˜»å¡æ€§é—®é¢˜ï¼ˆå¿…é¡»ç«‹å³ä¿®å¤ï¼‰

1. **signals.type å­—æ®µç¼ºå¤±**

   - å½±å“ï¼šæ— æ³•åŒºåˆ† 4 ç§å¡ç‰‡ç±»å‹
   - ä¿®å¤ï¼šæ·»åŠ  type ENUM å­—æ®µï¼Œè¿ç§»ç°æœ‰æ•°æ®

2. **market_risk å®Œå…¨ç¼ºå¤±**

   - å½±å“ï¼šå¸‚åœºé£é™©é¢„è­¦åŠŸèƒ½ç¼ºå¤±
   - ä¿®å¤ï¼šå®ç° market_risk åˆ¤å®šé€»è¾‘å’Œæ¨¡æ¿

3. **topic_card.j2 æ¨¡æ¿ç¼ºå¤±**
   - å½±å“ï¼štopic ç±»å‹å¡ç‰‡æ— æ³•æ¸²æŸ“
   - ä¿®å¤ï¼šåˆ›å»ºæ¨¡æ¿æ–‡ä»¶

### P1 - åŠŸèƒ½æ€§é—®é¢˜ï¼ˆ1 å‘¨å†…ä¿®å¤ï¼‰

1. å®ç° X API v2 æˆ– Apify åç«¯ï¼ˆé¿å…å•ç‚¹æ•…éšœï¼‰
2. å®ç° Day8.1 å›¾åƒè¯†åˆ«åŸºç¡€åŠŸèƒ½
3. ~~æ·»åŠ ä¸“å®¶è§†å›¾è·¯ç”±å’Œé™æµ~~ï¼ˆå·²å®Œæˆï¼‰
4. å®Œå–„çŠ¶æ€æœºå¹¶å‘æ§åˆ¶

### P2 - ä¼˜åŒ–é—®é¢˜ï¼ˆ2 å‘¨å†…æ”¹è¿›ï¼‰

1. ä¼˜åŒ– event_key ç”Ÿæˆé¿å…ç¢°æ’
2. å®Œå–„ BigQuery æˆæœ¬æ§åˆ¶
3. å¢å¼º LLM é™çº§æœºåˆ¶
4. æ”¹è¿› Telegram é‡è¯•é€»è¾‘

## å¿«é€ŸéªŒè¯å‘½ä»¤

```bash
# æ£€æŸ¥æœ€ä¸¥é‡çš„é—®é¢˜
echo "1. æ£€æŸ¥signals.typeå­—æ®µ..."
docker compose exec -T db psql -U app -c "\d signals" | grep type

echo "2. æ£€æŸ¥market_riskå®ç°..."
grep -r "market_risk" api/ rules/ --include="*.py" --include="*.yml"

echo "3. æ£€æŸ¥ç¼ºå¤±çš„æ¨¡æ¿..."
ls templates/cards/{topic,market_risk}_card.j2 2>/dev/null

echo "4. æ£€æŸ¥Xå®¢æˆ·ç«¯å®ç°..."
grep -c "NotImplementedError" api/clients/x_client.py

echo "5. æ£€æŸ¥å›¾åƒå¤„ç†ç»„ä»¶..."
find . -name "image_tagging.py" -o -name "topic_router.py"
```
